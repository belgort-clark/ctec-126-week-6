<!DOCTYPE html>
<html>

<head>

	<!-- Copyright 2013 by Bruce Elgort -->
	<!-- This code must be ran from the server -->

	<meta charset="utf-8">
	<title>jQuery Example 19 - Ajax Example 1</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
	<script>

		// AJAX - Asynchronous JavaScript and XML
		// Documentation http://api.jquery.com/category/ajax/
		// .ajax() http://api.jquery.com/jQuery.ajax/

		//document ready event
		$(document).ready(function () {
			// load the contents of the file data.txt into the div with id of 'content'
			getData();
		});

		// function to perform the actual ajax request
		// take note of the object being passed to .ajax()
		// url: the url to the file being loaded by the request
		// type: GET or POST
		// dataType: The type of data you are expecting to receive back
		// success: What to do when the ajax request was successful
		// error: What to do when something goes wrong during the Ajax request
		// complete: A function to run (anonymous or named) that will run regardless when the Ajax request has been completed)

		function getData() {
			$.ajax({
				url: "data.txt",
				type: "GET",
				dataType: "text",
				success: successFn,
				error: errorFn,
				complete: function (xhr, status) {
					console.log('Ajax request has been completed');
				}
			});
		}

		// the result param is the actual data that came back from the server
		function successFn(result) {
			// find the #content and append to it the data you get back from the server
			$('#content').append(result);
			// generate a console message
			console.log('Getting data and then setting then placing result in test div');
		}

		// function to handle errors during ajax request
		function errorFn() {
			// generate a console message
			// Typically you would let the user know that something didn't work correctly and not log messages to the console
			console.log('Something has gone terribly wrong with your Ajax request!');
		}

	</script>

</head>

<body>
	<div id="content">
	</div>
</body>

</html>